"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),Q=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,D=t.defineComponent({name:"JsonString",props:{jsonValue:{type:String,required:!0}},setup(e){const g=t.ref(!0),s=t.ref(!1),v=t.ref(null),y=t.ref(null);t.onMounted(()=>{v.value&&y.value&&v.value.offsetHeight>y.value.offsetHeight&&(s.value=!0)});const l=()=>{g.value=!g.value};return()=>{const r=e.jsonValue,n=Q.test(r);let a;!g.value&&s.value?a=t.h("span",{class:{"jv-ellipsis":!0},onClick:l},"..."):n?a=t.h("span",{class:{"jv-item":!0,"jv-string":!0},ref:v},[t.h("span",null,'"'),t.h("a",{href:r,target:"_blank",class:"jv-link"},r),t.h("span",null,'"')]):a=t.h("span",{class:{"jv-item":!0,"jv-string":!0},ref:v},`"${r}"`);const o=[];return s.value&&o.push(t.h("span",{class:{"jv-toggle":!0,open:g.value},onClick:l})),o.push(t.h("span",{class:{"jv-holder-node":!0},ref:y})),o.push(a),t.h("span",{},o)}}}),W={class:t.normalizeClass(["jv-item","jv-undefined"])},ee=t.defineComponent({__name:"json-undefined",props:{jsonValue:{type:null,default:void 0}},setup(e){const g=e,s=t.computed(()=>g.jsonValue===null?"null":"undefined");return(v,y)=>(t.openBlock(),t.createElementBlock("span",W,t.toDisplayString(s.value),1))}}),te=t.defineComponent({__name:"json-number",props:{jsonValue:{type:Number,required:!0}},setup(e){const g=e,s=t.computed(()=>Number.isInteger(g.jsonValue));return(v,y)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["jv-item","jv-number",s.value?"jv-number-integer":"jv-number-float"])},t.toDisplayString(e.jsonValue.toString()),3))}}),ne={class:t.normalizeClass(["jv-item","jv-boolean"])},oe=t.defineComponent({__name:"json-boolean",props:{jsonValue:{type:Boolean,required:!0}},setup(e){return(g,s)=>(t.openBlock(),t.createElementBlock("span",ne,t.toDisplayString(e.jsonValue.toString()),1))}}),re=t.defineComponent({name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:g}){const s=t.ref({});let v=null;const y=a=>{setTimeout(()=>{s.value=a},0)};t.watch(()=>e.jsonValue,a=>{y(a)},{immediate:!0,deep:!0});const l=t.computed(()=>{if(!e.sort)return s.value;const a=Object.keys(s.value).sort(),o={};return a.forEach(f=>{o[f]=s.value[f]}),o}),r=()=>{if(v)try{v.dispatchEvent(new Event("resized"))}catch{const o=document.createEvent("Event");o.initEvent("resized",!0,!1),v.dispatchEvent(o)}},n=()=>{g("update:expand",!e.expand),r()};return()=>{const a=[];if(a.push(t.h("span",{class:["jv-item","jv-object"]},"{")),e.expand){for(const o in l.value)if(l.value.hasOwnProperty(o)){const f=l.value[o];a.push(t.h($,{key:o,sort:e.sort,keyName:o,depth:e.depth+1,value:f,previewMode:e.previewMode}))}}return!e.expand&&Object.keys(s.value).length>0&&a.push(t.h("span",{class:"jv-ellipsis",onClick:n,title:`click to reveal object content (keys: ${Object.keys(l.value).join(", ")})`},"...")),a.push(t.h("span",{class:["jv-item","jv-object"]},"}")),t.h("span",{ref:o=>{v=o}},a)}}}),ae=t.defineComponent({name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:g}){const s=t.ref([]);let v=null;const y=(r,n=0)=>{n===0&&(s.value=[]),setTimeout(()=>{r&&r.length>n&&(s.value.push(r[n]),y(r,n+1))},0)};t.watch(()=>e.jsonValue,r=>{y(r)},{immediate:!0,deep:!0});const l=()=>{if(g("update:expand",!e.expand),v)try{v.dispatchEvent(new Event("resized"))}catch{const n=document.createEvent("Event");n.initEvent("resized",!0,!1),v.dispatchEvent(n)}};return()=>{const r=[];return!e.previewMode&&!e.keyName&&r.push(t.h("span",{class:{"jv-toggle":!0,open:!!e.expand},onClick:l})),r.push(t.h("span",{class:["jv-item","jv-array"]},"[")),e.expand&&s.value.forEach((n,a)=>{r.push(t.h($,{key:a,sort:e.sort,depth:e.depth+1,value:n,previewMode:e.previewMode}))}),!e.expand&&s.value.length>0&&r.push(t.h("span",{class:"jv-ellipsis",onClick:l,title:`click to reveal ${s.value.length} hidden items`},"...")),r.push(t.h("span",{class:["jv-item","jv-array"]},"]")),t.h("span",{ref:n=>{v=n}},r)}}}),ie=["title"],ue=t.defineComponent({__name:"json-function",props:{jsonValue:{type:Function,required:!0}},setup(e){return(g,s)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["jv-item","jv-function"]),title:e.jsonValue.toString()}," <function> ",8,ie))}}),le={class:t.normalizeClass(["jv-item","jv-string"])},ce=t.defineComponent({__name:"json-date",props:{jsonValue:{type:Date,required:!0}},setup(e){const g=e,s=t.inject("timeformat",y=>y.toLocaleString()),v=t.computed(()=>s(g.jsonValue));return(y,l)=>(t.openBlock(),t.createElementBlock("span",le,' "'+t.toDisplayString(v.value)+'" ',1))}}),se={class:t.normalizeClass(["jv-item","jv-regexp"])},fe=t.defineComponent({__name:"json-regexp",props:{jsonValue:{type:RegExp,required:!0}},setup(e){return(g,s)=>(t.openBlock(),t.createElementBlock("span",se,t.toDisplayString(e.jsonValue.toString()),1))}}),$=t.defineComponent({name:"JsonBox",props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},setup(e,g){const s=t.inject("onToggle",()=>{}),v=t.inject("expandDepth",1/0),y=t.inject("keyClick",()=>{}),l=t.ref(!0);let r=null;t.onMounted(()=>{l.value=e.previewMode||e.depth<v});const n=()=>{if(console.log("Toggle called for:",e.keyName,"Current expand state:",l.value),l.value=!l.value,s({keyName:e.keyName,value:e.value,depth:e.depth,expanded:l.value}),r)try{r.dispatchEvent(new Event("resized"))}catch{const o=document.createEvent("Event");o.initEvent("resized",!0,!1),r.dispatchEvent(o)}};return()=>{const a=[];let o;e.value===null||e.value===void 0?o=ee:Array.isArray(e.value)?o=ae:e.value instanceof Date?o=ce:e.value instanceof RegExp?o=fe:typeof e.value=="object"?o=re:typeof e.value=="number"?o=te:typeof e.value=="string"?o=D:typeof e.value=="boolean"?o=oe:typeof e.value=="function"?o=ue:o=D;const f=e.value&&(Array.isArray(e.value)||typeof e.value=="object"&&!(e.value instanceof Date)&&!(e.value instanceof RegExp));return!e.previewMode&&f&&!(e.value instanceof RegExp)&&a.push(t.h("span",{class:{"jv-toggle":!0,open:!!l.value},onClick:n})),e.keyName&&a.push(t.h("span",{class:"jv-key",onClick:()=>{y&&y(e.keyName)}},`${e.keyName}:`)),a.push(t.h(o,{class:"jv-push",jsonValue:e.value,keyName:e.keyName,sort:e.sort,depth:e.depth,expand:l.value,previewMode:e.previewMode,"onUpdate:expand":x=>{l.value=x}})),t.h("div",{class:{"jv-node":!0,"jv-key-node":!!e.keyName&&!f,toggle:!e.previewMode&&f},ref:x=>{r=x}},a)}}});function de(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */var pe=A.exports,L;function ve(){return L||(L=1,function(e,g){(function(v,y){e.exports=y()})(pe,function(){return function(){var s={686:function(l,r,n){n.d(r,{default:function(){return X}});var a=n(279),o=n.n(a),f=n(370),x=n.n(f),_=n(817),E=n.n(_);function b(p){try{return document.execCommand(p)}catch{return!1}}var m=function(u){var i=E()(u);return b("cut"),i},j=m;function k(p){var u=document.documentElement.getAttribute("dir")==="rtl",i=document.createElement("textarea");i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[u?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;return i.style.top="".concat(c,"px"),i.setAttribute("readonly",""),i.value=p,i}var R=function(u,i){var c=k(u);i.container.appendChild(c);var d=E()(c);return b("copy"),c.remove(),d},P=function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},c="";return typeof u=="string"?c=R(u,i):u instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(u==null?void 0:u.type)?c=R(u.value,i):(c=E()(u),b("copy")),c},B=P;function T(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(i){return typeof i}:T=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},T(p)}var I=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=u.action,c=i===void 0?"copy":i,d=u.container,h=u.target,C=u.text;if(c!=="copy"&&c!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(h!==void 0)if(h&&T(h)==="object"&&h.nodeType===1){if(c==="copy"&&h.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(c==="cut"&&(h.hasAttribute("readonly")||h.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(C)return B(C,{container:d});if(h)return c==="cut"?j(h):B(h,{container:d})},q=I;function S(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(i){return typeof i}:S=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},S(p)}function J(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}function z(p,u){for(var i=0;i<u.length;i++){var c=u[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}function F(p,u,i){return u&&z(p.prototype,u),i&&z(p,i),p}function H(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(u&&u.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),u&&O(p,u)}function O(p,u){return O=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c},O(p,u)}function K(p){var u=Z();return function(){var c=w(p),d;if(u){var h=w(this).constructor;d=Reflect.construct(c,arguments,h)}else d=c.apply(this,arguments);return U(this,d)}}function U(p,u){return u&&(S(u)==="object"||typeof u=="function")?u:Y(p)}function Y(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function w(p){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},w(p)}function V(p,u){var i="data-clipboard-".concat(p);if(u.hasAttribute(i))return u.getAttribute(i)}var G=function(p){H(i,p);var u=K(i);function i(c,d){var h;return J(this,i),h=u.call(this),h.resolveOptions(d),h.listenClick(c),h}return F(i,[{key:"resolveOptions",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof d.action=="function"?d.action:this.defaultAction,this.target=typeof d.target=="function"?d.target:this.defaultTarget,this.text=typeof d.text=="function"?d.text:this.defaultText,this.container=S(d.container)==="object"?d.container:document.body}},{key:"listenClick",value:function(d){var h=this;this.listener=x()(d,"click",function(C){return h.onClick(C)})}},{key:"onClick",value:function(d){var h=d.delegateTarget||d.currentTarget,C=this.action(h)||"copy",N=q({action:C,container:this.container,target:this.target(h),text:this.text(h)});this.emit(N?"success":"error",{action:C,text:N,trigger:h,clearSelection:function(){h&&h.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(d){return V("action",d)}},{key:"defaultTarget",value:function(d){var h=V("target",d);if(h)return document.querySelector(h)}},{key:"defaultText",value:function(d){return V("text",d)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return B(d,h)}},{key:"cut",value:function(d){return j(d)}},{key:"isSupported",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],h=typeof d=="string"?[d]:d,C=!!document.queryCommandSupported;return h.forEach(function(N){C=C&&!!document.queryCommandSupported(N)}),C}}]),i}(o()),X=G},828:function(l){var r=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function a(o,f){for(;o&&o.nodeType!==r;){if(typeof o.matches=="function"&&o.matches(f))return o;o=o.parentNode}}l.exports=a},438:function(l,r,n){var a=n(828);function o(_,E,b,m,j){var k=x.apply(this,arguments);return _.addEventListener(b,k,j),{destroy:function(){_.removeEventListener(b,k,j)}}}function f(_,E,b,m,j){return typeof _.addEventListener=="function"?o.apply(null,arguments):typeof b=="function"?o.bind(null,document).apply(null,arguments):(typeof _=="string"&&(_=document.querySelectorAll(_)),Array.prototype.map.call(_,function(k){return o(k,E,b,m,j)}))}function x(_,E,b,m){return function(j){j.delegateTarget=a(j.target,E),j.delegateTarget&&m.call(_,j)}}l.exports=f},879:function(l,r){r.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},r.nodeList=function(n){var a=Object.prototype.toString.call(n);return n!==void 0&&(a==="[object NodeList]"||a==="[object HTMLCollection]")&&"length"in n&&(n.length===0||r.node(n[0]))},r.string=function(n){return typeof n=="string"||n instanceof String},r.fn=function(n){var a=Object.prototype.toString.call(n);return a==="[object Function]"}},370:function(l,r,n){var a=n(879),o=n(438);function f(b,m,j){if(!b&&!m&&!j)throw new Error("Missing required arguments");if(!a.string(m))throw new TypeError("Second argument must be a String");if(!a.fn(j))throw new TypeError("Third argument must be a Function");if(a.node(b))return x(b,m,j);if(a.nodeList(b))return _(b,m,j);if(a.string(b))return E(b,m,j);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function x(b,m,j){return b.addEventListener(m,j),{destroy:function(){b.removeEventListener(m,j)}}}function _(b,m,j){return Array.prototype.forEach.call(b,function(k){k.addEventListener(m,j)}),{destroy:function(){Array.prototype.forEach.call(b,function(k){k.removeEventListener(m,j)})}}}function E(b,m,j){return o(document.body,b,m,j)}l.exports=f},817:function(l){function r(n){var a;if(n.nodeName==="SELECT")n.focus(),a=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var o=n.hasAttribute("readonly");o||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),o||n.removeAttribute("readonly"),a=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var f=window.getSelection(),x=document.createRange();x.selectNodeContents(n),f.removeAllRanges(),f.addRange(x),a=f.toString()}return a}l.exports=r},279:function(l){function r(){}r.prototype={on:function(n,a,o){var f=this.e||(this.e={});return(f[n]||(f[n]=[])).push({fn:a,ctx:o}),this},once:function(n,a,o){var f=this;function x(){f.off(n,x),a.apply(o,arguments)}return x._=a,this.on(n,x,o)},emit:function(n){var a=[].slice.call(arguments,1),o=((this.e||(this.e={}))[n]||[]).slice(),f=0,x=o.length;for(f;f<x;f++)o[f].fn.apply(o[f].ctx,a);return this},off:function(n,a){var o=this.e||(this.e={}),f=o[n],x=[];if(f&&a)for(var _=0,E=f.length;_<E;_++)f[_].fn!==a&&f[_].fn._!==a&&x.push(f[_]);return x.length?o[n]=x:delete o[n],this}},l.exports=r,l.exports.TinyEmitter=r}},v={};function y(l){if(v[l])return v[l].exports;var r=v[l]={exports:{}};return s[l](r,r.exports,y),r.exports}return function(){y.n=function(l){var r=l&&l.__esModule?function(){return l.default}:function(){return l};return y.d(r,{a:r}),r}}(),function(){y.d=function(l,r){for(var n in r)y.o(r,n)&&!y.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:r[n]})}}(),function(){y.o=function(l,r){return Object.prototype.hasOwnProperty.call(l,r)}}(),y(686)}().default})}(A)),A.exports}var ye=ve();const me=de(ye),he=function(e,g){let s=Date.now(),v;return(...y)=>{Date.now()-s<g&&v&&clearTimeout(v),v=setTimeout(()=>{e(...y)},g),s=Date.now()}},ge=t.defineComponent({name:"JsonViewer",components:{JsonBox:$},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:e=>e.toLocaleString()},previewMode:{type:Boolean,default:!1},parse:{type:Boolean,default:!1}},emits:{onKeyClick:e=>!0,copied:e=>!0,onToggle:e=>!0},setup(e,{emit:g}){const s=t.ref(!1),v=t.ref(!1),y=t.ref(e.expanded),l=t.ref(null),r=t.ref(null);t.provide("expandDepth",e.expandDepth),t.provide("timeformat",e.timeformat),t.provide("keyClick",m=>{g("onKeyClick",m)}),t.provide("onToggle",m=>{g("onToggle",m)});const n=t.computed(()=>"jv-container jv-"+e.theme+(e.boxed?" boxed":"")),a=t.computed(()=>{if(typeof e.copyable=="boolean"&&!e.copyable)return{copyText:"copy",copiedText:"copied!",timeout:2e3,align:"right"};const m=e.copyable;return{copyText:m.copyText||"copy",copiedText:m.copiedText||"copied!",timeout:m.timeout||2e3,align:m.align||"right"}}),o=t.computed(()=>{if(!e.parse||typeof e.value!="string")return e.value;try{return JSON.parse(e.value)}catch{return e.value}}),f=()=>{_()},_=he(()=>{t.nextTick(()=>{r.value&&(r.value.$el.clientHeight>=250?v.value=!0:v.value=!1)})},200),E=m=>{s.value||(s.value=!0,setTimeout(()=>{s.value=!1},a.value.timeout),g("copied",m))},b=()=>{y.value=!y.value};return t.watch(()=>e.value,()=>{f()}),t.onMounted(()=>{e.boxed&&r.value&&(f(),r.value.$el.addEventListener("resized",f,!0)),e.copyable&&l.value&&new me(l.value,{text:()=>JSON.stringify(o.value,null,2)}).on("success",E)}),{clip:l,jsonBox:r,copied:s,expandableCode:v,expandCode:y,jvClass:n,copyText:a,parseValue:o,toggleExpandCode:b}}}),be=(e,g)=>{const s=e.__vccOpts||e;for(const[v,y]of g)s[v]=y;return s};function je(e,g,s,v,y,l){const r=t.resolveComponent("json-box");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.jvClass)},[e.copyable?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`jv-tooltip ${e.copyText.align||"right"}`)},[t.createElementVNode("span",{ref:"clip",class:t.normalizeClass(["jv-button",{copied:e.copied}])},[t.renderSlot(e.$slots,"copy",{copied:e.copied},()=>[t.createTextVNode(t.toDisplayString(e.copied?e.copyText.copiedText:e.copyText.copyText),1)])],2)],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["jv-code",{open:e.expandCode,boxed:e.boxed}])},[t.createVNode(r,{ref:"jsonBox",value:e.parseValue,sort:e.sort,"preview-mode":e.previewMode},null,8,["value","sort","preview-mode"])],2),e.expandableCode&&e.boxed?(t.openBlock(),t.createElementBlock("div",{key:1,class:"jv-more",onClick:g[0]||(g[0]=(...n)=>e.toggleExpandCode&&e.toggleExpandCode(...n))},[t.createElementVNode("span",{class:t.normalizeClass(["jv-toggle",{open:!!e.expandCode}])},null,2)])):t.createCommentVNode("",!0)],2)}const M=be(ge,[["render",je]]),xe=e=>{e.component(M.name,M)},_e={install:xe};exports.JsonViewer=M;exports.default=_e;
