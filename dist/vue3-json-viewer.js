"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),Q=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,D=t.defineComponent({name:"JsonString",props:{jsonValue:{type:String,required:!0}},setup(e){const g=t.ref(!0),f=t.ref(!1),v=t.ref(null),y=t.ref(null);t.onMounted(()=>{v.value&&y.value&&v.value.offsetHeight>y.value.offsetHeight&&(f.value=!0)});const l=()=>{g.value=!g.value};return()=>{const o=e.jsonValue,n=Q.test(o);let a;!g.value&&f.value?a=t.h("span",{class:{"jv-ellipsis":!0},onClick:l},"..."):n?a=t.h("span",{class:{"jv-item":!0,"jv-string":!0},ref:v},[t.h("span",null,'"'),t.h("a",{href:o,target:"_blank",class:"jv-link"},o),t.h("span",null,'"')]):a=t.h("span",{class:{"jv-item":!0,"jv-string":!0},ref:v},`"${o}"`);const r=[];return f.value&&r.push(t.h("span",{class:{"jv-toggle":!0,open:g.value},onClick:l})),r.push(t.h("span",{class:{"jv-holder-node":!0},ref:y})),r.push(a),t.h("span",{},r)}}}),W={class:t.normalizeClass(["jv-item","jv-undefined"])},ee=t.defineComponent({__name:"json-undefined",props:{jsonValue:{type:null,default:void 0}},setup(e){const g=e,f=t.computed(()=>g.jsonValue===null?"null":"undefined");return(v,y)=>(t.openBlock(),t.createElementBlock("span",W,t.toDisplayString(f.value),1))}}),te=t.defineComponent({__name:"json-number",props:{jsonValue:{type:Number,required:!0}},setup(e){const g=e,f=t.computed(()=>Number.isInteger(g.jsonValue));return(v,y)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["jv-item","jv-number",f.value?"jv-number-integer":"jv-number-float"])},t.toDisplayString(e.jsonValue.toString()),3))}}),ne={class:t.normalizeClass(["jv-item","jv-boolean"])},oe=t.defineComponent({__name:"json-boolean",props:{jsonValue:{type:Boolean,required:!0}},setup(e){return(g,f)=>(t.openBlock(),t.createElementBlock("span",ne,t.toDisplayString(e.jsonValue.toString()),1))}}),re=t.defineComponent({name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:g}){const f=t.ref({});let v=null;const y=a=>{setTimeout(()=>{f.value=a},0)};t.watch(()=>e.jsonValue,a=>{y(a)},{immediate:!0,deep:!0});const l=t.computed(()=>{if(!e.sort)return f.value;const a=Object.keys(f.value).sort(),r={};return a.forEach(c=>{r[c]=f.value[c]}),r}),o=()=>{if(v)try{v.dispatchEvent(new Event("resized"))}catch{const r=document.createEvent("Event");r.initEvent("resized",!0,!1),v.dispatchEvent(r)}},n=()=>{g("update:expand",!e.expand),o()};return()=>{const a=[];if(a.push(t.h("span",{class:["jv-item","jv-object"]},"{")),e.expand){for(const r in l.value)if(l.value.hasOwnProperty(r)){const c=l.value[r];a.push(t.h($,{key:r,sort:e.sort,keyName:r,depth:e.depth+1,value:c,previewMode:e.previewMode}))}}return!e.expand&&Object.keys(f.value).length>0&&a.push(t.h("span",{class:"jv-ellipsis",onClick:n,title:`click to reveal object content (keys: ${Object.keys(l.value).join(", ")})`},"...")),a.push(t.h("span",{class:["jv-item","jv-object"]},"}")),t.h("span",{ref:r=>{v=r}},a)}}}),ae=t.defineComponent({name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:g}){const f=t.ref([]);let v=null;const y=(o,n=0)=>{n===0&&(f.value=[]),setTimeout(()=>{o&&o.length>n&&(f.value.push(o[n]),y(o,n+1))},0)};t.watch(()=>e.jsonValue,o=>{y(o)},{immediate:!0,deep:!0});const l=()=>{if(g("update:expand",!e.expand),v)try{v.dispatchEvent(new Event("resized"))}catch{const n=document.createEvent("Event");n.initEvent("resized",!0,!1),v.dispatchEvent(n)}};return()=>{const o=[];return!e.previewMode&&!e.keyName&&o.push(t.h("span",{class:{"jv-toggle":!0,open:!!e.expand},onClick:l})),o.push(t.h("span",{class:["jv-item","jv-array"]},"[")),e.expand&&f.value.forEach((n,a)=>{o.push(t.h($,{key:a,sort:e.sort,depth:e.depth+1,value:n,previewMode:e.previewMode}))}),!e.expand&&f.value.length>0&&o.push(t.h("span",{class:"jv-ellipsis",onClick:l,title:`click to reveal ${f.value.length} hidden items`},"...")),o.push(t.h("span",{class:["jv-item","jv-array"]},"]")),t.h("span",{ref:n=>{v=n}},o)}}}),ie=["title"],ue=t.defineComponent({__name:"json-function",props:{jsonValue:{type:Function,required:!0}},setup(e){return(g,f)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["jv-item","jv-function"]),title:e.jsonValue.toString()}," <function> ",8,ie))}}),le={class:t.normalizeClass(["jv-item","jv-string"])},ce=t.defineComponent({__name:"json-date",props:{jsonValue:{type:Date,required:!0}},setup(e){const g=e,f=t.inject("timeformat",y=>y.toLocaleString()),v=t.computed(()=>f(g.jsonValue));return(y,l)=>(t.openBlock(),t.createElementBlock("span",le,' "'+t.toDisplayString(v.value)+'" ',1))}}),se={class:t.normalizeClass(["jv-item","jv-regexp"])},fe=t.defineComponent({__name:"json-regexp",props:{jsonValue:{type:RegExp,required:!0}},setup(e){return(g,f)=>(t.openBlock(),t.createElementBlock("span",se,t.toDisplayString(e.jsonValue.toString()),1))}}),$=t.defineComponent({name:"JsonBox",props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean,path:{type:Array,default:()=>[]}},setup(e,g){const f=t.inject("onToggle",()=>{}),v=t.inject("expandDepth",1/0),y=t.inject("keyClick",()=>{}),l=t.ref(!0);let o=null;const n=[...e.path];e.keyName&&n.push(e.keyName),t.onMounted(()=>{l.value=e.previewMode||e.depth<v});const a=()=>{if(console.log("Toggle called for:",e.keyName,"Current expand state:",l.value),l.value=!l.value,f({keyName:e.keyName,value:e.value,depth:e.depth,expanded:l.value,path:n}),o)try{o.dispatchEvent(new Event("resized"))}catch{const c=document.createEvent("Event");c.initEvent("resized",!0,!1),o.dispatchEvent(c)}};return()=>{const r=[];let c;e.value===null||e.value===void 0?c=ee:Array.isArray(e.value)?c=ae:e.value instanceof Date?c=ce:e.value instanceof RegExp?c=fe:typeof e.value=="object"?c=re:typeof e.value=="number"?c=te:typeof e.value=="string"?c=D:typeof e.value=="boolean"?c=oe:typeof e.value=="function"?c=ue:c=D;const _=e.value&&(Array.isArray(e.value)||typeof e.value=="object"&&!(e.value instanceof Date)&&!(e.value instanceof RegExp));return!e.previewMode&&_&&!(e.value instanceof RegExp)&&r.push(t.h("span",{class:{"jv-toggle":!0,open:!!l.value},onClick:a})),e.keyName&&r.push(t.h("span",{class:"jv-key",onClick:()=>{y&&y(e.keyName)}},`${e.keyName}:`)),r.push(t.h(c,{class:"jv-push",jsonValue:e.value,keyName:e.keyName,sort:e.sort,depth:e.depth,expand:l.value,previewMode:e.previewMode,path:n,"onUpdate:expand":j=>{l.value=j}})),t.h("div",{class:{"jv-node":!0,"jv-key-node":!!e.keyName&&!_,toggle:!e.previewMode&&_},ref:j=>{o=j}},r)}}});function de(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */var pe=A.exports,L;function ve(){return L||(L=1,function(e,g){(function(v,y){e.exports=y()})(pe,function(){return function(){var f={686:function(l,o,n){n.d(o,{default:function(){return X}});var a=n(279),r=n.n(a),c=n(370),_=n.n(c),j=n(817),E=n.n(j);function b(p){try{return document.execCommand(p)}catch{return!1}}var m=function(u){var i=E()(u);return b("cut"),i},x=m;function k(p){var u=document.documentElement.getAttribute("dir")==="rtl",i=document.createElement("textarea");i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[u?"right":"left"]="-9999px";var s=window.pageYOffset||document.documentElement.scrollTop;return i.style.top="".concat(s,"px"),i.setAttribute("readonly",""),i.value=p,i}var R=function(u,i){var s=k(u);i.container.appendChild(s);var d=E()(s);return b("copy"),s.remove(),d},P=function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},s="";return typeof u=="string"?s=R(u,i):u instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(u==null?void 0:u.type)?s=R(u.value,i):(s=E()(u),b("copy")),s},B=P;function T(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(i){return typeof i}:T=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},T(p)}var I=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=u.action,s=i===void 0?"copy":i,d=u.container,h=u.target,C=u.text;if(s!=="copy"&&s!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(h!==void 0)if(h&&T(h)==="object"&&h.nodeType===1){if(s==="copy"&&h.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(s==="cut"&&(h.hasAttribute("readonly")||h.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(C)return B(C,{container:d});if(h)return s==="cut"?x(h):B(h,{container:d})},q=I;function S(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(i){return typeof i}:S=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},S(p)}function J(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}function z(p,u){for(var i=0;i<u.length;i++){var s=u[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(p,s.key,s)}}function F(p,u,i){return u&&z(p.prototype,u),i&&z(p,i),p}function H(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(u&&u.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),u&&O(p,u)}function O(p,u){return O=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},O(p,u)}function K(p){var u=Z();return function(){var s=w(p),d;if(u){var h=w(this).constructor;d=Reflect.construct(s,arguments,h)}else d=s.apply(this,arguments);return U(this,d)}}function U(p,u){return u&&(S(u)==="object"||typeof u=="function")?u:Y(p)}function Y(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function w(p){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},w(p)}function V(p,u){var i="data-clipboard-".concat(p);if(u.hasAttribute(i))return u.getAttribute(i)}var G=function(p){H(i,p);var u=K(i);function i(s,d){var h;return J(this,i),h=u.call(this),h.resolveOptions(d),h.listenClick(s),h}return F(i,[{key:"resolveOptions",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof d.action=="function"?d.action:this.defaultAction,this.target=typeof d.target=="function"?d.target:this.defaultTarget,this.text=typeof d.text=="function"?d.text:this.defaultText,this.container=S(d.container)==="object"?d.container:document.body}},{key:"listenClick",value:function(d){var h=this;this.listener=_()(d,"click",function(C){return h.onClick(C)})}},{key:"onClick",value:function(d){var h=d.delegateTarget||d.currentTarget,C=this.action(h)||"copy",N=q({action:C,container:this.container,target:this.target(h),text:this.text(h)});this.emit(N?"success":"error",{action:C,text:N,trigger:h,clearSelection:function(){h&&h.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(d){return V("action",d)}},{key:"defaultTarget",value:function(d){var h=V("target",d);if(h)return document.querySelector(h)}},{key:"defaultText",value:function(d){return V("text",d)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return B(d,h)}},{key:"cut",value:function(d){return x(d)}},{key:"isSupported",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],h=typeof d=="string"?[d]:d,C=!!document.queryCommandSupported;return h.forEach(function(N){C=C&&!!document.queryCommandSupported(N)}),C}}]),i}(r()),X=G},828:function(l){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function a(r,c){for(;r&&r.nodeType!==o;){if(typeof r.matches=="function"&&r.matches(c))return r;r=r.parentNode}}l.exports=a},438:function(l,o,n){var a=n(828);function r(j,E,b,m,x){var k=_.apply(this,arguments);return j.addEventListener(b,k,x),{destroy:function(){j.removeEventListener(b,k,x)}}}function c(j,E,b,m,x){return typeof j.addEventListener=="function"?r.apply(null,arguments):typeof b=="function"?r.bind(null,document).apply(null,arguments):(typeof j=="string"&&(j=document.querySelectorAll(j)),Array.prototype.map.call(j,function(k){return r(k,E,b,m,x)}))}function _(j,E,b,m){return function(x){x.delegateTarget=a(x.target,E),x.delegateTarget&&m.call(j,x)}}l.exports=c},879:function(l,o){o.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},o.nodeList=function(n){var a=Object.prototype.toString.call(n);return n!==void 0&&(a==="[object NodeList]"||a==="[object HTMLCollection]")&&"length"in n&&(n.length===0||o.node(n[0]))},o.string=function(n){return typeof n=="string"||n instanceof String},o.fn=function(n){var a=Object.prototype.toString.call(n);return a==="[object Function]"}},370:function(l,o,n){var a=n(879),r=n(438);function c(b,m,x){if(!b&&!m&&!x)throw new Error("Missing required arguments");if(!a.string(m))throw new TypeError("Second argument must be a String");if(!a.fn(x))throw new TypeError("Third argument must be a Function");if(a.node(b))return _(b,m,x);if(a.nodeList(b))return j(b,m,x);if(a.string(b))return E(b,m,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function _(b,m,x){return b.addEventListener(m,x),{destroy:function(){b.removeEventListener(m,x)}}}function j(b,m,x){return Array.prototype.forEach.call(b,function(k){k.addEventListener(m,x)}),{destroy:function(){Array.prototype.forEach.call(b,function(k){k.removeEventListener(m,x)})}}}function E(b,m,x){return r(document.body,b,m,x)}l.exports=c},817:function(l){function o(n){var a;if(n.nodeName==="SELECT")n.focus(),a=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var r=n.hasAttribute("readonly");r||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),r||n.removeAttribute("readonly"),a=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var c=window.getSelection(),_=document.createRange();_.selectNodeContents(n),c.removeAllRanges(),c.addRange(_),a=c.toString()}return a}l.exports=o},279:function(l){function o(){}o.prototype={on:function(n,a,r){var c=this.e||(this.e={});return(c[n]||(c[n]=[])).push({fn:a,ctx:r}),this},once:function(n,a,r){var c=this;function _(){c.off(n,_),a.apply(r,arguments)}return _._=a,this.on(n,_,r)},emit:function(n){var a=[].slice.call(arguments,1),r=((this.e||(this.e={}))[n]||[]).slice(),c=0,_=r.length;for(c;c<_;c++)r[c].fn.apply(r[c].ctx,a);return this},off:function(n,a){var r=this.e||(this.e={}),c=r[n],_=[];if(c&&a)for(var j=0,E=c.length;j<E;j++)c[j].fn!==a&&c[j].fn._!==a&&_.push(c[j]);return _.length?r[n]=_:delete r[n],this}},l.exports=o,l.exports.TinyEmitter=o}},v={};function y(l){if(v[l])return v[l].exports;var o=v[l]={exports:{}};return f[l](o,o.exports,y),o.exports}return function(){y.n=function(l){var o=l&&l.__esModule?function(){return l.default}:function(){return l};return y.d(o,{a:o}),o}}(),function(){y.d=function(l,o){for(var n in o)y.o(o,n)&&!y.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:o[n]})}}(),function(){y.o=function(l,o){return Object.prototype.hasOwnProperty.call(l,o)}}(),y(686)}().default})}(A)),A.exports}var ye=ve();const me=de(ye),he=function(e,g){let f=Date.now(),v;return(...y)=>{Date.now()-f<g&&v&&clearTimeout(v),v=setTimeout(()=>{e(...y)},g),f=Date.now()}},ge=t.defineComponent({name:"JsonViewer",components:{JsonBox:$},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:e=>e.toLocaleString()},previewMode:{type:Boolean,default:!1},parse:{type:Boolean,default:!1}},emits:{onKeyClick:e=>!0,copied:e=>!0,onToggle:e=>!0},setup(e,{emit:g}){const f=t.ref(!1),v=t.ref(!1),y=t.ref(e.expanded),l=t.ref(null),o=t.ref(null);t.provide("expandDepth",e.expandDepth),t.provide("timeformat",e.timeformat),t.provide("keyClick",m=>{g("onKeyClick",m)}),t.provide("onToggle",m=>{g("onToggle",m)});const n=t.computed(()=>"jv-container jv-"+e.theme+(e.boxed?" boxed":"")),a=t.computed(()=>{if(typeof e.copyable=="boolean"&&!e.copyable)return{copyText:"copy",copiedText:"copied!",timeout:2e3,align:"right"};const m=e.copyable;return{copyText:m.copyText||"copy",copiedText:m.copiedText||"copied!",timeout:m.timeout||2e3,align:m.align||"right"}}),r=t.computed(()=>{if(!e.parse||typeof e.value!="string")return e.value;try{return JSON.parse(e.value)}catch{return e.value}}),c=()=>{j()},j=he(()=>{t.nextTick(()=>{o.value&&(o.value.$el.clientHeight>=250?v.value=!0:v.value=!1)})},200),E=m=>{f.value||(f.value=!0,setTimeout(()=>{f.value=!1},a.value.timeout),g("copied",m))},b=()=>{y.value=!y.value};return t.watch(()=>e.value,()=>{c()}),t.onMounted(()=>{e.boxed&&o.value&&(c(),o.value.$el.addEventListener("resized",c,!0)),e.copyable&&l.value&&new me(l.value,{text:()=>JSON.stringify(r.value,null,2)}).on("success",E)}),{clip:l,jsonBox:o,copied:f,expandableCode:v,expandCode:y,jvClass:n,copyText:a,parseValue:r,toggleExpandCode:b}}}),be=(e,g)=>{const f=e.__vccOpts||e;for(const[v,y]of g)f[v]=y;return f};function je(e,g,f,v,y,l){const o=t.resolveComponent("json-box");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.jvClass)},[e.copyable?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`jv-tooltip ${e.copyText.align||"right"}`)},[t.createElementVNode("span",{ref:"clip",class:t.normalizeClass(["jv-button",{copied:e.copied}])},[t.renderSlot(e.$slots,"copy",{copied:e.copied},()=>[t.createTextVNode(t.toDisplayString(e.copied?e.copyText.copiedText:e.copyText.copyText),1)])],2)],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["jv-code",{open:e.expandCode,boxed:e.boxed}])},[t.createVNode(o,{ref:"jsonBox",value:e.parseValue,sort:e.sort,"preview-mode":e.previewMode},null,8,["value","sort","preview-mode"])],2),e.expandableCode&&e.boxed?(t.openBlock(),t.createElementBlock("div",{key:1,class:"jv-more",onClick:g[0]||(g[0]=(...n)=>e.toggleExpandCode&&e.toggleExpandCode(...n))},[t.createElementVNode("span",{class:t.normalizeClass(["jv-toggle",{open:!!e.expandCode}])},null,2)])):t.createCommentVNode("",!0)],2)}const M=be(ge,[["render",je]]),xe=e=>{e.component(M.name,M)},_e={install:xe};exports.JsonViewer=M;exports.default=_e;
