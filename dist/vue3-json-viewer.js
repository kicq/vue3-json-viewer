"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),Q=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,D=t.defineComponent({name:"JsonString",props:{jsonValue:{type:String,required:!0}},setup(e){const h=t.ref(!0),f=t.ref(!1),y=t.ref(null),s=t.ref(null);t.onMounted(()=>{y.value&&s.value&&y.value.offsetHeight>s.value.offsetHeight&&(f.value=!0)});const l=()=>{h.value=!h.value};return()=>{const r=e.jsonValue,n=Q.test(r);let o;!h.value&&f.value?o=t.h("span",{class:{"jv-ellipsis":!0},onClick:l},"..."):n?o=t.h("span",{class:{"jv-item":!0,"jv-string":!0},ref:y},[t.h("span",null,'"'),t.h("a",{href:r,target:"_blank",class:"jv-link"},r),t.h("span",null,'"')]):o=t.h("span",{class:{"jv-item":!0,"jv-string":!0},ref:y},`"${r}"`);const a=[];return f.value&&a.push(t.h("span",{class:{"jv-toggle":!0,open:h.value},onClick:l})),a.push(t.h("span",{class:{"jv-holder-node":!0},ref:s})),a.push(o),t.h("span",{},a)}}}),W={class:t.normalizeClass(["jv-item","jv-undefined"])},ee=t.defineComponent({__name:"json-undefined",props:{jsonValue:{type:null,default:void 0}},setup(e){const h=e,f=t.computed(()=>h.jsonValue===null?"null":"undefined");return(y,s)=>(t.openBlock(),t.createElementBlock("span",W,t.toDisplayString(f.value),1))}}),te=t.defineComponent({__name:"json-number",props:{jsonValue:{type:Number,required:!0}},setup(e){const h=e,f=t.computed(()=>Number.isInteger(h.jsonValue));return(y,s)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["jv-item","jv-number",f.value?"jv-number-integer":"jv-number-float"])},t.toDisplayString(e.jsonValue.toString()),3))}}),ne={class:t.normalizeClass(["jv-item","jv-boolean"])},oe=t.defineComponent({__name:"json-boolean",props:{jsonValue:{type:Boolean,required:!0}},setup(e){return(h,f)=>(t.openBlock(),t.createElementBlock("span",ne,t.toDisplayString(e.jsonValue.toString()),1))}}),re=t.defineComponent({name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:h}){const f=t.ref({});let y=null;const s=o=>{setTimeout(()=>{f.value=o},0)};t.watch(()=>e.jsonValue,o=>{s(o)},{immediate:!0,deep:!0});const l=t.computed(()=>{if(!e.sort)return f.value;const o=Object.keys(f.value).sort(),a={};return o.forEach(d=>{a[d]=f.value[d]}),a}),r=()=>{if(y)try{y.dispatchEvent(new Event("resized"))}catch{const a=document.createEvent("Event");a.initEvent("resized",!0,!1),y.dispatchEvent(a)}},n=()=>{h("update:expand",!e.expand),r()};return()=>{const o=[];if(o.push(t.h("span",{class:["jv-item","jv-object"]},"{")),e.expand){for(const a in l.value)if(l.value.hasOwnProperty(a)){const d=l.value[a];o.push(t.h($,{key:a,sort:e.sort,keyName:a,depth:e.depth+1,value:d,previewMode:e.previewMode}))}}return!e.expand&&Object.keys(f.value).length>0&&o.push(t.h("span",{class:"jv-ellipsis",onClick:n,title:`click to reveal object content (keys: ${Object.keys(l.value).join(", ")})`},"...")),o.push(t.h("span",{class:["jv-item","jv-object"]},"}")),t.h("span",{ref:a=>{y=a}},o)}}}),ae=t.defineComponent({name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:h}){const f=t.ref([]);let y=null;const s=(r,n=0)=>{n===0&&(f.value=[]),setTimeout(()=>{r&&r.length>n&&(f.value.push(r[n]),s(r,n+1))},0)};t.watch(()=>e.jsonValue,r=>{s(r)},{immediate:!0,deep:!0});const l=()=>{if(h("update:expand",!e.expand),y)try{y.dispatchEvent(new Event("resized"))}catch{const n=document.createEvent("Event");n.initEvent("resized",!0,!1),y.dispatchEvent(n)}};return()=>{const r=[];return!e.previewMode&&!e.keyName&&r.push(t.h("span",{class:{"jv-toggle":!0,open:!!e.expand},onClick:l})),r.push(t.h("span",{class:["jv-item","jv-array"]},"[")),e.expand&&f.value.forEach((n,o)=>{r.push(t.h($,{key:o,sort:e.sort,depth:e.depth+1,value:n,previewMode:e.previewMode}))}),!e.expand&&f.value.length>0&&r.push(t.h("span",{class:"jv-ellipsis",onClick:l,title:`click to reveal ${f.value.length} hidden items`},"...")),r.push(t.h("span",{class:["jv-item","jv-array"]},"]")),t.h("span",{ref:n=>{y=n}},r)}}}),ie=["title"],ue=t.defineComponent({__name:"json-function",props:{jsonValue:{type:Function,required:!0}},setup(e){return(h,f)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["jv-item","jv-function"]),title:e.jsonValue.toString()}," <function> ",8,ie))}}),le={class:t.normalizeClass(["jv-item","jv-string"])},se=t.defineComponent({__name:"json-date",props:{jsonValue:{type:Date,required:!0}},setup(e){const h=e,f=t.inject("timeformat",s=>s.toLocaleString()),y=t.computed(()=>f(h.jsonValue));return(s,l)=>(t.openBlock(),t.createElementBlock("span",le,' "'+t.toDisplayString(y.value)+'" ',1))}}),ce={class:t.normalizeClass(["jv-item","jv-regexp"])},fe=t.defineComponent({__name:"json-regexp",props:{jsonValue:{type:RegExp,required:!0}},setup(e){return(h,f)=>(t.openBlock(),t.createElementBlock("span",ce,t.toDisplayString(e.jsonValue.toString()),1))}}),$=t.defineComponent({name:"JsonBox",props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},setup(e,h){const f=t.inject("expandDepth",1/0),y=t.inject("keyClick",()=>{}),s=t.ref(!0);let l=null;t.onMounted(()=>{s.value=e.previewMode||e.depth<f});const r=()=>{console.log("Toggle called for:",e.keyName,"Current expand state:",s.value),s.value=!s.value;const n=s.value?"expand":"collapse";if(h.emit(n,{keyName:e.keyName,value:e.value,depth:e.depth}),l)try{l.dispatchEvent(new Event("resized"))}catch{const a=document.createEvent("Event");a.initEvent("resized",!0,!1),l.dispatchEvent(a)}};return()=>{const n=[];let o;e.value===null||e.value===void 0?o=ee:Array.isArray(e.value)?o=ae:e.value instanceof Date?o=se:e.value instanceof RegExp?o=fe:typeof e.value=="object"?o=re:typeof e.value=="number"?o=te:typeof e.value=="string"?o=D:typeof e.value=="boolean"?o=oe:typeof e.value=="function"?o=ue:o=D;const a=e.value&&(Array.isArray(e.value)||typeof e.value=="object"&&!(e.value instanceof Date)&&!(e.value instanceof RegExp));return!e.previewMode&&a&&!(e.value instanceof RegExp)&&n.push(t.h("span",{class:{"jv-toggle":!0,open:!!s.value},onClick:r})),e.keyName&&n.push(t.h("span",{class:"jv-key",onClick:()=>{y&&y(e.keyName)}},`${e.keyName}:`)),n.push(t.h(o,{class:"jv-push",jsonValue:e.value,keyName:e.keyName,sort:e.sort,depth:e.depth,expand:s.value,previewMode:e.previewMode,"onUpdate:expand":d=>{s.value=d}})),t.h("div",{class:{"jv-node":!0,"jv-key-node":!!e.keyName&&!a,toggle:!e.previewMode&&a},ref:d=>{l=d}},n)}}});function de(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */var pe=A.exports,L;function ve(){return L||(L=1,function(e,h){(function(y,s){e.exports=s()})(pe,function(){return function(){var f={686:function(l,r,n){n.d(r,{default:function(){return X}});var o=n(279),a=n.n(o),d=n(370),_=n.n(d),x=n(817),E=n.n(x);function b(v){try{return document.execCommand(v)}catch{return!1}}var g=function(u){var i=E()(u);return b("cut"),i},j=g;function k(v){var u=document.documentElement.getAttribute("dir")==="rtl",i=document.createElement("textarea");i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[u?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;return i.style.top="".concat(c,"px"),i.setAttribute("readonly",""),i.value=v,i}var R=function(u,i){var c=k(u);i.container.appendChild(c);var p=E()(c);return b("copy"),c.remove(),p},P=function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},c="";return typeof u=="string"?c=R(u,i):u instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(u==null?void 0:u.type)?c=R(u.value,i):(c=E()(u),b("copy")),c},B=P;function w(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(i){return typeof i}:w=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},w(v)}var I=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=u.action,c=i===void 0?"copy":i,p=u.container,m=u.target,C=u.text;if(c!=="copy"&&c!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(m!==void 0)if(m&&w(m)==="object"&&m.nodeType===1){if(c==="copy"&&m.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(c==="cut"&&(m.hasAttribute("readonly")||m.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(C)return B(C,{container:p});if(m)return c==="cut"?j(m):B(m,{container:p})},q=I;function S(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(i){return typeof i}:S=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},S(v)}function J(v,u){if(!(v instanceof u))throw new TypeError("Cannot call a class as a function")}function z(v,u){for(var i=0;i<u.length;i++){var c=u[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function F(v,u,i){return u&&z(v.prototype,u),i&&z(v,i),v}function H(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(u&&u.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),u&&O(v,u)}function O(v,u){return O=Object.setPrototypeOf||function(c,p){return c.__proto__=p,c},O(v,u)}function K(v){var u=Z();return function(){var c=T(v),p;if(u){var m=T(this).constructor;p=Reflect.construct(c,arguments,m)}else p=c.apply(this,arguments);return U(this,p)}}function U(v,u){return u&&(S(u)==="object"||typeof u=="function")?u:Y(v)}function Y(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function T(v){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},T(v)}function V(v,u){var i="data-clipboard-".concat(v);if(u.hasAttribute(i))return u.getAttribute(i)}var G=function(v){H(i,v);var u=K(i);function i(c,p){var m;return J(this,i),m=u.call(this),m.resolveOptions(p),m.listenClick(c),m}return F(i,[{key:"resolveOptions",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof p.action=="function"?p.action:this.defaultAction,this.target=typeof p.target=="function"?p.target:this.defaultTarget,this.text=typeof p.text=="function"?p.text:this.defaultText,this.container=S(p.container)==="object"?p.container:document.body}},{key:"listenClick",value:function(p){var m=this;this.listener=_()(p,"click",function(C){return m.onClick(C)})}},{key:"onClick",value:function(p){var m=p.delegateTarget||p.currentTarget,C=this.action(m)||"copy",N=q({action:C,container:this.container,target:this.target(m),text:this.text(m)});this.emit(N?"success":"error",{action:C,text:N,trigger:m,clearSelection:function(){m&&m.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(p){return V("action",p)}},{key:"defaultTarget",value:function(p){var m=V("target",p);if(m)return document.querySelector(m)}},{key:"defaultText",value:function(p){return V("text",p)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return B(p,m)}},{key:"cut",value:function(p){return j(p)}},{key:"isSupported",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],m=typeof p=="string"?[p]:p,C=!!document.queryCommandSupported;return m.forEach(function(N){C=C&&!!document.queryCommandSupported(N)}),C}}]),i}(a()),X=G},828:function(l){var r=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function o(a,d){for(;a&&a.nodeType!==r;){if(typeof a.matches=="function"&&a.matches(d))return a;a=a.parentNode}}l.exports=o},438:function(l,r,n){var o=n(828);function a(x,E,b,g,j){var k=_.apply(this,arguments);return x.addEventListener(b,k,j),{destroy:function(){x.removeEventListener(b,k,j)}}}function d(x,E,b,g,j){return typeof x.addEventListener=="function"?a.apply(null,arguments):typeof b=="function"?a.bind(null,document).apply(null,arguments):(typeof x=="string"&&(x=document.querySelectorAll(x)),Array.prototype.map.call(x,function(k){return a(k,E,b,g,j)}))}function _(x,E,b,g){return function(j){j.delegateTarget=o(j.target,E),j.delegateTarget&&g.call(x,j)}}l.exports=d},879:function(l,r){r.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},r.nodeList=function(n){var o=Object.prototype.toString.call(n);return n!==void 0&&(o==="[object NodeList]"||o==="[object HTMLCollection]")&&"length"in n&&(n.length===0||r.node(n[0]))},r.string=function(n){return typeof n=="string"||n instanceof String},r.fn=function(n){var o=Object.prototype.toString.call(n);return o==="[object Function]"}},370:function(l,r,n){var o=n(879),a=n(438);function d(b,g,j){if(!b&&!g&&!j)throw new Error("Missing required arguments");if(!o.string(g))throw new TypeError("Second argument must be a String");if(!o.fn(j))throw new TypeError("Third argument must be a Function");if(o.node(b))return _(b,g,j);if(o.nodeList(b))return x(b,g,j);if(o.string(b))return E(b,g,j);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function _(b,g,j){return b.addEventListener(g,j),{destroy:function(){b.removeEventListener(g,j)}}}function x(b,g,j){return Array.prototype.forEach.call(b,function(k){k.addEventListener(g,j)}),{destroy:function(){Array.prototype.forEach.call(b,function(k){k.removeEventListener(g,j)})}}}function E(b,g,j){return a(document.body,b,g,j)}l.exports=d},817:function(l){function r(n){var o;if(n.nodeName==="SELECT")n.focus(),o=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var a=n.hasAttribute("readonly");a||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),a||n.removeAttribute("readonly"),o=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var d=window.getSelection(),_=document.createRange();_.selectNodeContents(n),d.removeAllRanges(),d.addRange(_),o=d.toString()}return o}l.exports=r},279:function(l){function r(){}r.prototype={on:function(n,o,a){var d=this.e||(this.e={});return(d[n]||(d[n]=[])).push({fn:o,ctx:a}),this},once:function(n,o,a){var d=this;function _(){d.off(n,_),o.apply(a,arguments)}return _._=o,this.on(n,_,a)},emit:function(n){var o=[].slice.call(arguments,1),a=((this.e||(this.e={}))[n]||[]).slice(),d=0,_=a.length;for(d;d<_;d++)a[d].fn.apply(a[d].ctx,o);return this},off:function(n,o){var a=this.e||(this.e={}),d=a[n],_=[];if(d&&o)for(var x=0,E=d.length;x<E;x++)d[x].fn!==o&&d[x].fn._!==o&&_.push(d[x]);return _.length?a[n]=_:delete a[n],this}},l.exports=r,l.exports.TinyEmitter=r}},y={};function s(l){if(y[l])return y[l].exports;var r=y[l]={exports:{}};return f[l](r,r.exports,s),r.exports}return function(){s.n=function(l){var r=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(r,{a:r}),r}}(),function(){s.d=function(l,r){for(var n in r)s.o(r,n)&&!s.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:r[n]})}}(),function(){s.o=function(l,r){return Object.prototype.hasOwnProperty.call(l,r)}}(),s(686)}().default})}(A)),A.exports}var ye=ve();const me=de(ye),he=function(e,h){let f=Date.now(),y;return(...s)=>{Date.now()-f<h&&y&&clearTimeout(y),y=setTimeout(()=>{e(...s)},h),f=Date.now()}},ge=t.defineComponent({name:"JsonViewer",components:{JsonBox:$},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:e=>e.toLocaleString()},previewMode:{type:Boolean,default:!1},parse:{type:Boolean,default:!1}},emits:["onKeyClick","copied"],setup(e,{emit:h}){const f=t.ref(!1),y=t.ref(!1),s=t.ref(e.expanded),l=t.ref(null),r=t.ref(null);t.provide("expandDepth",e.expandDepth),t.provide("timeformat",e.timeformat),t.provide("keyClick",g=>{h("onKeyClick",g)});const n=t.computed(()=>"jv-container jv-"+e.theme+(e.boxed?" boxed":"")),o=t.computed(()=>{if(typeof e.copyable=="boolean"&&!e.copyable)return{copyText:"copy",copiedText:"copied!",timeout:2e3,align:"right"};const g=e.copyable;return{copyText:g.copyText||"copy",copiedText:g.copiedText||"copied!",timeout:g.timeout||2e3,align:g.align||"right"}}),a=t.computed(()=>{if(!e.parse||typeof e.value!="string")return e.value;try{return JSON.parse(e.value)}catch{return e.value}}),d=()=>{x()},x=he(()=>{t.nextTick(()=>{r.value&&(r.value.$el.clientHeight>=250?y.value=!0:y.value=!1)})},200),E=g=>{f.value||(f.value=!0,setTimeout(()=>{f.value=!1},o.value.timeout),h("copied",g))},b=()=>{s.value=!s.value};return t.watch(()=>e.value,()=>{d()}),t.onMounted(()=>{e.boxed&&r.value&&(d(),r.value.$el.addEventListener("resized",d,!0)),e.copyable&&l.value&&new me(l.value,{text:()=>JSON.stringify(a.value,null,2)}).on("success",E)}),{clip:l,jsonBox:r,copied:f,expandableCode:y,expandCode:s,jvClass:n,copyText:o,parseValue:a,toggleExpandCode:b}}}),be=(e,h)=>{const f=e.__vccOpts||e;for(const[y,s]of h)f[y]=s;return f};function je(e,h,f,y,s,l){const r=t.resolveComponent("json-box");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.jvClass)},[e.copyable?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`jv-tooltip ${e.copyText.align||"right"}`)},[t.createElementVNode("span",{ref:"clip",class:t.normalizeClass(["jv-button",{copied:e.copied}])},[t.renderSlot(e.$slots,"copy",{copied:e.copied},()=>[t.createTextVNode(t.toDisplayString(e.copied?e.copyText.copiedText:e.copyText.copyText),1)])],2)],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["jv-code",{open:e.expandCode,boxed:e.boxed}])},[t.createVNode(r,{ref:"jsonBox",value:e.parseValue,sort:e.sort,"preview-mode":e.previewMode},null,8,["value","sort","preview-mode"])],2),e.expandableCode&&e.boxed?(t.openBlock(),t.createElementBlock("div",{key:1,class:"jv-more",onClick:h[0]||(h[0]=(...n)=>e.toggleExpandCode&&e.toggleExpandCode(...n))},[t.createElementVNode("span",{class:t.normalizeClass(["jv-toggle",{open:!!e.expandCode}])},null,2)])):t.createCommentVNode("",!0)],2)}const M=be(ge,[["render",je]]),xe=e=>{e.component(M.name,M)},_e={install:xe};exports.JsonViewer=M;exports.default=_e;
